{% extends 'base.html' %}
{% block title %}InÃ­cio Â· App Motorista{% endblock %}
{% block content %}
<section class="hero hero-home">
  <div>
    <p class="eyebrow">Bem-vindo</p>
    <h1>{{ g.user['name'] }}</h1>
    <p class="lede">Um clique para encerrar a viagem. Resumo rÃ¡pido e status sempre Ã  mÃ£o.</p>
    <div class="hero-actions">
      <a href="{{ url_for('trip_form') }}" class="primary">Encerrar Viagem</a>
      <span class="muted">Mantenha sua jornada em dia.</span>
    </div>
  </div>
  <div class="hero-card">
    <p class="muted" style="margin:0">Status de hoje</p>
    <div class="hero-metrics">
      <div>
        <div class="stat-value">{{ stats.hoje }}</div>
        <div class="stat-label">Encerradas</div>
      </div>
      <div>
        <div class="stat-value">{{ stats.devolucoes }}</div>
        <div class="stat-label">DevoluÃ§Ãµes</div>
      </div>
    </div>
  </div>
</section>

<section class="card stats-card">
  <h2>ğŸ“Š Resumo de Viagens</h2>
  <div class="stats-grid">
    <div class="stat-item">
      <div class="stat-value">{{ stats.total }}</div>
      <div class="stat-label">Total de viagens</div>
    </div>
    <div class="stat-item">
      <div class="stat-value">{{ stats.finalizadas }}</div>
      <div class="stat-label">Finalizadas 100%</div>
    </div>
    <div class="stat-item">
      <div class="stat-value">{{ stats.devolucoes }}</div>
      <div class="stat-label">Com devoluÃ§Ã£o</div>
    </div>
    <div class="stat-item">
      <div class="stat-value">{{ stats.hoje }}</div>
      <div class="stat-label">Hoje</div>
    </div>
  </div>
</section>

<section class="card">
  <h2>ğŸ“‹ Ãšltimas viagens</h2>
  {% if recent_trips %}
  <div class="trips-list">
    {% for trip in recent_trips %}
    <div class="trip-item">
      <div class="trip-header">
        <span class="trip-date">{{ trip.date }}</span>
        <span class="trip-status {{ 'status-ok' if trip.status == 'finalizado' else 'status-return' }}">
          {{ 'Finalizada 100%' if trip.status == 'finalizado' else 'Com devoluÃ§Ã£o' }}
        </span>
      </div>
      <div class="trip-details">
        <span>Motorista: {{ trip.driver }}</span>
        {% if trip.helper %}
        <span>Ajudante: {{ trip.helper }}</span>
        {% endif %}
      </div>
    </div>
    {% endfor %}
  </div>
  {% else %}
  <p class="muted">Nenhuma viagem registrada ainda. Comece encerrando sua primeira viagem!</p>
  {% endif %}
</section>
{% endblock %}
